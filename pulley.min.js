function registerNamespace(namespace){var namespaceParts=namespace.split(".");namespaceParts.length>7&&e.e;var p0=namespaceParts[0],p1=namespaceParts[1],p2=namespaceParts[2],p3=namespaceParts[3],p4=namespaceParts[4],p5=namespaceParts[5],p6=namespaceParts[6];for(var i in namespaceParts)switch(i=eval(i)){case 0:window[p0]||(window[p0]={});break;case 1:window[p0][p1]||(window[p0][p1]={});break;case 2:window[p0][p1][p2]||(window[p0][p1][p2]={});break;case 3:window[p0][p1][p2][p3]||(window[p0][p1][p2][p3]={});break;case 4:window[p0][p1][p2][p3][p4]||(window[p0][p1][p2][p3][p4]={});break;case 5:window[p0][p1][p2][p3][p4][p5]||(window[p0][p1][p2][p3][p4][p5]={});break;case 6:window[p0][p1][p2][p3][p4][p5][p6]||(window[p0][p1][p2][p3][p4][p5][p6]={})}}function log(e){console&&console.log(e)}function logMethod(e,t,i){if(__config&&__config.logging){var n=e.toString()+"."+t+"()";log(n)}}function throwError(e){log("TERMINAL ERROR: "+e),nothing.nothing}function isElementVisible(e){var t=e.getBoundingClientRect(),i=t.top>window.innerHeight,n=t.top+e.offsetHeight<0,s=!(i||n),r=$(e).is(":visible"),l=s&&r;return l}function radiansToDegrees(e){return e*(180/Math.PI)}function degreesToRadians(e){return e*(Math.PI/180)}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function randomNumber(e){var t=Math.floor(Math.random()*e);return t}function randomPassword(e){for(e||(e=8),chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",pass="",x=0;e>x;x++)i=Math.floor(62*Math.random()),pass+=chars.charAt(i);return pass}function validateEmail(e){var t=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)?!0:!1}function doesArrayContainValue(e,t){for(var i=e.length;i--;)if(e[i]==t)return!0;return!1}function removeDuplicatesFromArray(e){for(var t=e.concat(),i=0;i<t.length;++i)for(var n=i+1;n<t.length;++n)t[i]===t[n]&&t.splice(n--,1);return t}function cleanArray(e){for(var t=0;t<this.length;t++)this[t]==e&&(this.splice(t,1),t--);return this}function isFirefox(){return $.browser.mozilla?!0:!1}function isTouchDevice(){var e=isiOS()||isAndroid();return e}function isAndroid(){var e=navigator.userAgent.toLowerCase().indexOf("android")>-1;return e}function isiOS(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}function isiPad(){return/iPad/i.test(navigator.userAgent)}function isFirefox(){return/Firefox/i.test(navigator.userAgent)}function isIE(){return/MSIE/i.test(navigator.userAgent)}function isWindows(){log(navigator.platform);var e=navigator.platform.toLowerCase().indexOf("win");return e>=0?!0:!1}function isiPad(){var e=/ipad/i.test(navigator.userAgent.toLowerCase());return e}function doesBrowserSupportPlaceholders(){var e=document.createElement("input");return"placeholder"in e}function addDeviceAndBrowserClassesTagsToBody(){var e=$("body");isTheUserOnAPhone()&&e.addClass("mobile"),isiOS()&&e.addClass("iOS"),isiPad()&&e.addClass("iPad"),isFirefox()&&e.addClass("firefox"),isIE(11)&&e.addClass("ie11"),isIE(10)&&e.addClass("ie10"),isIE(9)&&e.addClass("ie9"),isIE(8)&&e.addClass("ie8"),isIE(7)&&e.addClass("ie7"),isWindows()&&e.addClass("windows")}function isTheUserOnAPhone(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),t=$("body").width(),i=768>t;return i?!0:!1}function isMobileDevice(){var e=jQuery.browser.mobile;return e}function replaceSpecialCharacters(e){e.replace("&#8226;","â€¢")}function setCookie(e,t,i,n,s,r){var l=new Date;l.setTime(l.getTime()),i&&(i=1e3*i*60*60*24);var o=new Date(l.getTime()+i);document.cookie=e+"="+escape(t)+(i?";expires="+o.toGMTString():"")+(n?";path="+n:"")+(s?";domain="+s:"")+(r?";secure":"")}function getCookie(e){var t=document.cookie.split(";"),n="",s="",r="",l=!1;for(i=0;i<t.length;i++){if(n=t[i].split("="),s=n[0].replace(/^\s+|\s+$/g,""),s==e){return l=!0,n.length>1&&(r=unescape(n[1].replace(/^\s+|\s+$/g,""))),r;break}n=null,s=""}return l?void 0:null}function Delete_Cookie(e,t,i){Get_Cookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(i?";domain="+i:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")}function getURLVar(e){return decodeURI((RegExp(e+"=(.+?)(&|$)").exec(location.search)||[,null])[1])}function disableUserScrolling(e,t){null==e&&(e=!0),null==t&&(t=!0),e&&$(document).bind("mousewheel DOMMouseScroll",function(e){e.preventDefault()}),t&&$(document).keydown(function(e){var t=[37,38,39,40,16,33,34,35,36];for(var i in t){var n=t[i];e.which==n&&e.preventDefault()}})}!function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},this.Class.prototype=new $,Class.extend=function(i){function n(t,i){var n=arguments;this.initializedByAngular=null,t&&t.$id&&(this.initializedByAngular=!0),!e&&this.init&&this.init.apply(this,arguments)}var s=this.prototype;e=!0;var r=new this;e=!1;for(var l in i)r[l]="function"==typeof i[l]&&"function"==typeof s[l]&&t.test(i[l])?function(e,t){return function(){var i=this._super;this._super=s[e];var n=t.apply(this,arguments);return this._super=i,n}}(l,i[l]):i[l];return n.prototype=r,n.prototype.constructor=n,n.extend=arguments.callee,n}}(),registerNamespace("pulley"),pulley.Controller=function(){this.init=function(e){this.type=this.type,this.type_=this.type.substr(this.type.lastIndexOf(".")+1);for(var t in e){var i=e[t];this[t]=i}this.listeners=null,__config.logging&&(log(""),log("new "+this.toString()+"()"),logMethod(this,"init",arguments)),this.inited=!0},this.destroy=function(e){this.inited=!1;for(var t in this.listeners){var i=this.listeners[t];this.removeEventListener(i.name,i.listenerFunction)}this.listeners=null;for(var t in window._controllers){var n=window._controllers[t];n==this&&(window._controllers=array.splice(t,1))}},this.addEventListener=function(t,i,n){if(t&&i&&n||e.e,this.listeners||(this.listeners=[]),!this.hasEventListener(t,i,n)){var s=new pulley.EventListener(t,i,n);this.listeners.push(s)}},this.hasEventListener=function(e,t,i){if(!this.listeners)return!1;for(var n=0;n<this.listeners.length;n++){var s=this.listeners[n];if(e==s.eventType&&i==s.listenerFunction)return!0}return!1},this.removeEventListener=function(e,t){if(this.listeners)for(var i=0;i<this.listeners.length;i++){var n=this.listeners[i];if(e==n.eventType&&t==n.listenerFunction)return void this.listeners.splice(i,1)}},this.dispatchEvent=function(e,t){if(this.listeners)for(var i=0,i=0;i<this.listeners.length;i++){var n=this.listeners[i];e==n.eventType&&n.listenerFunction.call(n.originalScope,e,t)}}},pulley.Controller=Class.extend(new pulley.Controller),pulley.Controller.type=pulley.Controller.prototype.type="Controller",pulley.EventListener=function(){this.init=function(t,i,n){return t&&n&&i||e.e,this.eventType=t,this.listenerFunction=n,this.originalScope=i,this}},pulley.EventListener=Class.extend(new pulley.EventListener),pulley.EventListener.type=pulley.EventListener.prototype.type="EventListener",registerNamespace("pulley"),pulley.HTMLInjector=function(){},pulley.HTMLInjector=pulley.Controller.extend(new pulley.HTMLInjector),pulley.HTMLInjector.prototype.type=pulley.HTMLInjector.type="pulley.HTMLInjector",pulley.HTMLInjector.templates=null,pulley.HTMLInjector.toString=function(){return"HTMLInjector"},pulley.HTMLInjector.initializePage=function(e,t,i){function n(){pulley.HTMLInjector._injectIncludes(e,s)}function s(){pulley.HTMLInjector._initializeControllers(e,i)}logMethod(this,"initializePage",arguments),pulley.HTMLInjector._loadHTMLTemplates(t,n)},pulley.HTMLInjector._loadHTMLTemplates=function(e,t){function i(i){pulley.HTMLInjector.templates.push(i),pulley.HTMLInjector.templates.length==e.length&&t()}if(pulley.HTMLInjector.templates||(pulley.HTMLInjector.templates=[]),e.length<1)return void t();for(var n in e){var s=e[n],r=s.substring(s.lastIndexOf("/")+1,s.lastIndexOf(".")),l=$("."+r)[0];l?i(l.outerHTML):$.ajax({url:s,data:{},dataType:"html",success:function(e,t,n){i(e)},error:function(e,t,i){log("Network Error:"),log(e.status.toString()),log(t.toString()),log(i.toString())},notmodified:function(e){},timeout:function(e){},abort:function(e){},parseerror:function(e){},complete:function(e){}})}},pulley.HTMLInjector.getHTMLTemplateByViewControllerClass=function(e){logMethod(this,"getHTMLTemplateByViewControllerClass",arguments);for(var t in pulley.HTMLInjector.templates){var i=pulley.HTMLInjector.templates[t],n=i.indexOf("class=")+6,s=i.charAt(n),r=i.indexOf(s,n+1),l=i.substring(n+1,r);if(l==e.toString())return i}},pulley.HTMLInjector._injectIncludes=function(e,t){function i(){l++,l>=r.length&&t&&t()}function n(e){logMethod(s,"loadInclude",arguments);var t=$(e).attr("data-include-src"),n=$(e).attr("data-include-id"),r=$(e).attr("data-include-class");$.ajax({url:t,data:{},dataType:"html",success:function(t,s,l){var o=t,a=$(o)[0];e.innerHTML=a.innerHTML;for(var u=0;u<a.attributes.length;u++){var c=a.attributes[u].name,d=$(a).attr(c),h=$(e).attr(c);h||$(e).attr(c,d)}var p=e.children[0];n&&(p.id=n),$(p).addClass(r),$(e).attr('data-include-loaded="true"'),pulley.HTMLInjector._injectIncludes(e,i)},error:function(e,t,i){log("Network Error:"),log(e.status.toString()),log(t.toString()),log(i.toString())},notmodified:function(e){},timeout:function(e){},abort:function(e){},parseerror:function(e){},complete:function(e){}})}var s=this;logMethod(this,"_injectIncludes",arguments);var r=$(e).find("*[data-include-src]").toArray(),l=0;if(r.length)for(var o in r){var a=r[o];n(a)}else i()},pulley.HTMLInjector._initializeControllers=function(t,i){function n(t){var i=t.split("."),n=window;for(var s in i){var r=i[s];n=n[r],n||e.e}var l=n;return l}var s=this;logMethod(this,"_initializeControllers",arguments);var r=$(t).find("*[class]").toArray(),l=0;for(var o in r){var a=r[o],u=$(a).attr("data-controller-initialized");if(!u){var c=!1;if(c){var d=a.className.split(/\s+/);for(var o in d)if(isNumber(o)){var h=d[o],p=h+"VC",v=window[p];if(v){var f=new v(a);break}}}else{var p=$(a).attr("data-controller");if(p){var v=n(p);if(v)var f=new v(a)}}}}i()},pulley.HTMLInjector.createControllerAndInjectHTML=function(e,t,i){function n(e,t){var i=pulley.HTMLInjector.getHTMLTemplateByViewControllerClass(e),n="",s=i.substring(0,i.indexOf(" ")),r=i.substr(i.indexOf(" "));return n=s+" id='"+t+"'"+r}i||(i=t.createUniqueId());var s=n(t,i);$(e).append(s);var r=document.getElementById(i),l=new t(r);return l},registerNamespace("pulley.model"),pulley.model.LocalData=function(){this.init=function(e,t){this.modelControllerClassesByType=e,this.catalog={Flights:null,FlightGroups:null},t&&t()},this.addObject=function(t){t||e.e,t.id||e.e;var i=this.getCatalogByObjType(t.objType);i[t.id]=t},this.getCatalogByObjType=function(e){var t=e+"s",i=this.catalog[t];return i||(i=this.catalog[t]=[]),i},this.getObjectFromCatalogByObjTypeAndId=function(e,t){var i=this.getCatalogByObjType(e);if(i){var n=i[t];return n}return null},this.updateObjects=function(e){function t(e){var t=i.getCatalogByObjType(e.objType),n=t[e.id];if(n)return n.setModel(e),{success:!0,message:"Updated existing object.",data:n};var s=i.modelControllerClassesByType[e.objType],r=new s(e);return t[e.id]=r,{success:!0,message:"Added object.",data:r}}var i=this;__config.logging&&log("LocalData.updateObjects()");var n=[],s=[];if(e instanceof Array)for(var r in e){var l=e[r],o=t(l);s[r]=o.data,o.success||n.push(o)}else{var o=t(e);o.success||n.push(o)}return n.length?{success:!1,message:"One or more objects failed to update.",data:n}:{success:!0,message:"Successfully updated all objects.",data:s}},this.removeObjects=function(e){function t(e){var t=i.catalog[e.objType+"s"];if(!t)return{success:!1,message:"There are no cataloged items of this type.",data:e};var n=t[e.id];return n?(t.splice(e.id,1),n.destroy(),{success:!0,message:"Updated existing object.",data:n}):{success:!0,message:"The object did not exist to remove."}}var i=this;__config.logging&&log("LocalData.updateObjects()");var n=[];if(e instanceof Array)for(var s in e){var r=e[s],l=t(r);l.success||n.push(l)}else{var l=t(e);l.success||n.push(l)}return n.length?{success:!1,message:"One or more objects failed to be removed.",data:n}:{success:!0,message:"Successfully removed all objects."}}},pulley.model.LocalData=Class.extend(new pulley.model.LocalData),pulley.model.LocalData.type=pulley.model.LocalData.prototype.type="pulley.model.LocalData",registerNamespace("pulley.model"),pulley.model.ModelController=function(){this.init=function(e,t){this.APIInterface=null,this.APIInterface_loadObjectMethod=null,this.APIInterface_saveObjectMethod=null,this.APIInterface_deleteObjectMethod=null,this._super(e),t&&t()},this.setModel=function(e){for(var t in e)if("isStub"!=t){var i=t;this[i]=e[t]}this.dispatchEvent(pulley.model.ModelController.CHANGED,this)},this.load=function(e,t){function i(t){s.dispatchEvent(pulley.model.ModelController.LOADED,s),e&&e()}function n(e){t(e)}var s=this;this.APIInterface_loadObjectMethod.call(this.APIInterface,this,i,n)},this.save=function(e,t){function i(t){s.dispatchEvent(pulley.model.ModelController.SAVED,s),e&&e()}function n(e){t(e)}var s=this;this.APIInterface_saveObjectMethod.call(this.APIInterface,this,i,n)},this.delete=function(e,t){function i(t){s.dispatchEvent(pulley.model.ModelController.DELETED,s),e&&e()}function n(e){t(e)}var s=this;this.APIInterface_deleteObjectMethod.call(this.APIInterface,this,i,n)},this.destroy=function(){this.id=null,this.name=null,this.dispatchEvent(pulley.model.ModelController.DELETED,this)}},pulley.model.ModelController=pulley.Controller.extend(new pulley.model.ModelController),pulley.model.ModelController.type=pulley.model.ModelController.prototype.type="pulley.model.ModelController",pulley.model.ModelController.CHANGED="changed",pulley.model.ModelController.LOADED="loaded",pulley.model.ModelController.SAVED="saved",pulley.model.ModelController.DELETED="deleted",window.console||(window.console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}}),String.prototype.toCamelCase=function(){var e=this.toLowerCase().replace(/['"]/g,"").replace(/\W+/g," ").replace(/ (.)/g,function(e){return e.toUpperCase()}).replace(/ /g,"");return e},String.prototype.toTitleCase=function(){var e=this.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});return e},function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),s=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+s)},s);return e=n+s,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),registerNamespace("pulley.view"),pulley.view.ViewController=function(){function parseHash(e){var t=e.split("/"),i=[];for(var n in t){var s=t[n];s&&i.push(s)}return i}this.init=function(){var e=this;this._super(),this.initializedByAngular?(this.scope=arguments[0],this.scope.controller=this,view=arguments[1][0],model=null,onComplete=null):(view=arguments[0],model=arguments[1],onComplete=arguments[2]),this.settings={},this.$view=$(view),this.children={},this.model=model,this.$view[0].id||(this.$view[0].id=pulley.view.ViewController.createUniqueId(this)),this.id=this.$view[0].id,this.inited=!1,this.readied=!1,this.setWidth=null,this.setHeight=null,this._locks=[],this.previousState=null,this.currentState=null,this.states=[],window._controllers||(window._controllers=[],window.getControllerById=window.c=function(e){for(var t in window._controllers){var i=window._controllers[t];if(i.id==e)return i}}),window._controllers[this.id]=this,$(this.view).attr("data-controller-initialized","true"),this.inited=!0,onComplete&&onComplete()},this.destroy=function(){this._super(onComplete),this.model=null,this.setModel(null),this.inited=!1,this.readied=!1,this.setWidth=null,this.setHeight=null,this.previousState=null,this.currentState=null,this.states=null,this.view=null,this.$view=null;for(var e in this.children){var t=children[e];t.parent&&t.parent.removeChild(t),children[e]=null}this.children=null},this.ready=function(t){function i(){function e(t){for(var i=[],s=0;s<t.children.length;s++){var r=t.children[s];if(r.hasAttribute("data-state-id")){var l=$(r).attr("data-state-id"),o=$(r).attr("data-state-name"),a=$(r).attr("data-state-hash"),u=$(r).attr("data-state-type"),d=$(r).attr("data-state-implementation-method");if(d){var h=n[d];h||console.error("No function with this name found.")}var p=new State({id:l,name:o,hash:a,type:u,implementation:h,view:r}),v=c(r.id);v&&(p.view=v),i.push(p)}else if(!r.hasAttribute("data-controller-initialized")){var f=e(r);i=i.concat(f)}}return i}var t=n.$view.find("[data-state-id]").toArray();if(t.length){var i=e(n.view);n.states=n.states.concat(i)}}var n=this;logMethod(this,"ready",arguments),i();for(var s in this.children){var r=this.children[s];r&&r.ready&&(r.readied&&e.e,r.ready())}this.readied=!0,t&&t()},this.reset=function(e){logMethod(this,"reset",arguments),e&&(this.destroy(),this.init())},this.focus=function(){logMethod(this,"focus",arguments)},this.setModel=function(e){logMethod(this,"setModel",arguments),this.model=e;var t=e!=this.model;t&&(this.reset(!1),this.model=e),this.apply()},this.apply=function(){logMethod(this,"apply",arguments),this.initializedByAngular&&this.scope.$apply(),this.model},this.setSize=function(e,t){logMethod(this,"setSize",arguments),e>=0&&this.$view.width(e),t>=0&&this.$view.width(t);for(var i in this.children){var n=this.children[i];n&&n.setSize&&n.setSize()}},this.setState=function(e,t,i,n){function s(){o.apply(),o.setSize(),o.currentState.view.focus&&o.currentState.view.focus(),c&&o.previousState&&o.previousState.view&&o.previousState.view.removeEventListener(l.STATE_CHANGED,o._currentState__onStateChanged),o.currentState.view&&o.currentState.view.addEventListener(l.STATE_CHANGED,o,o._currentState__onStateChanged),n&&n()}var r=pulley.view.State,l=pulley.view.ViewController,o=this;logMethod(this,"setState",arguments);var a=null;if(isNumber(e)?a=this.states[e]:e instanceof r&&(a=e),!a)return void console.error("invalid state");var u=null,c=this.currentState!=a;c&&(this.previousState=this.currentState,this.currentState=a,o.dispatchEvent(l.STATE_CHANGED),u=this.areStatesInReverseOrder(this.previousState,this.currentState),t&&this.currentState.view.setModel&&this.currentState.view.setModel(t));for(var d in this.states){var a=this.states[d];a!=this.currentState&&a!=this.previousState&&(a.view instanceof l?a.view.$view.css({display:"none",opacity:0}):$(a.view).css({display:"none",opacity:0}))}this.currentState.view&&this.currentState.view.setSize&&window.requestAnimationFrame(function(){o.currentState.view&&o.currentState.view.setSize&&o.currentState.view.setSize()}),i||(c&&this.previousState&&(this.previousState.view instanceof l?this.previousState.view.$view.css({display:"none",opacity:0}):$(this.previousState.view).css({display:"none",opacity:0})),this.currentState.view instanceof l?this.currentState.view.$view.css({display:"block",opacity:1}):$(this.currentState.view).css({opacity:1})),this.currentState.implementation?(this.setSize(),this.currentState.implementation.call(this,i,u,s)):s()},this._currentState__onStateChanged=function(e,t){this.dispatchEvent(ViewController.STATE_CHANGED)},this.getStateIndex=function(state){for(var i in this.states){var state2=this.states[i];if(state==state2)return eval(i)}},this.getPreviousStateByOrder=function(e){null==e&&(e=!0);for(var t=this.getStateIndex(this.currentState),i=t-1;i<this.states.length;i--){if(0>i)return null;var n=this.states[i];if(!e)return n;if(n.type!=State.TYPE__MODAL)return n}},this.getNextStateByOrder=function(e){null==e&&(e=!0);for(var t=this.getStateIndex(this.currentState),i=t+1;i<this.states.length;i++){var n=this.states[i];if(!e)return n;if(n.type!=State.TYPE__MODAL)return n}},this.getLastState=function(e){null==e&&(e=!0);for(var t=this.states.length-1;t>-1;t--){var i=this.states[t];if(!e)return i;if(i.type!=State.TYPE__MODAL)return i}},this.getStateByHash=function(e){e.indexOf("#")>-1&&(e=e.substring(e.indexOf("#")+1,e.length));var t=parseHash(e),i=t[0],n=null;for(var s in this.states){var r=this.states[s];if(r.hash==i)return r}return null},this.setStateByHash=function(e,t,i,n){e.indexOf("#")>-1&&(e=e.substring(e.indexOf("#")+1,e.length));var s=parseHash(e),r=s[0],l=this.getStateByHash(e);!l&&this.states[0]&&(l=this.states[0]);var o=s.slice(1);if(o.length){this.setState(l,t,i,n,!1);var a=o.join("/");l.view&&l.view.setStateByHash(a,i)}else l&&this.setState(l,i,n,!0)},this.areStatesInReverseOrder=function(e,t){var i=null,n=null;return i=n?!0:this.getStateIndex(e)>this.getStateIndex(t)},this.isLocked=function(){return this._locks.length?!0:!1},this.lock=function(e){e||console.error("You must provide a lock id."),this._locks.push(e),1==this._locks.length&&this.$view.addClass("locked")},this.unlock=function(e){this._locks<=0&&console.error("The app is not locked. Make sure that each lock() and unlock() call has a pair.");var t=null;for(var i in this._locks)this._locks[i]==e&&(this._locks.splice(i,1),t=!0);t||console.error("No lock with id "+e+" was found."),0==this._locks.length&&this.$view.removeClass("locked")}},pulley.view.ViewController=pulley.Controller.extend(new pulley.view.ViewController),pulley.view.ViewController.type=pulley.view.ViewController.prototype.type="pulley.view.ViewController",pulley.view.ViewController.STATE_CHANGED="stateChanged",pulley.view.ViewController.createUniqueId=function(e){var t=e.__proto__;t||(t=e.prototype);var i=null;t?(null==t.instanceCounter&&(t.instanceCounter=-1),t.instanceCounter++,i=t.instanceCounter):i=Math.floor(1e7*Math.random());var n=e.type;n||(n=e.localName);var s=n+"_"+i;return s},pulley.view.State=function(){this.init=function(e){this.id=null,this.name=null,this.hash=null,this.implementation=null,this.view=null,this.type=null;for(var t in e)this[t]=e[t];return this.type||(this.type=State.TYPE__PAGE),this},this.getHash=function(){var e=this.hash;if(this.view&&this.view.currentState){var t=this.view.currentState.getHash();t&&(e+="/"+t)}return e||(e=""),e}},pulley.view.State=Class.extend(new pulley.view.State),pulley.view.State.type=pulley.view.State.prototype.type="pulley.view.State",pulley.view.State.TYPE__PAGE="page",pulley.view.State.TYPE__MODAL="modal",pulley.view.State.TYPE__TRANSITION="transition",registerNamespace("pulley.view.controls"),pulley.view.controls.GuidesVC=function(){var e=pulley.view.controls.GuidesVC;this.init=function(){if(this.initializedByAngular)this._super.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);else{var e=arguments[0],t=arguments[1],i=arguments[2];this._super(e,t)}this.model.numberOfGuidesToShow=getURLVar("guides"),i&&i()},this.ready=function(e){switch(this._super(),this.numberOfGuidesToShow){case"1":$(this.view).find(".one-column").css({display:"block"});break;case"2":$(this.view).find(".two-columns").css({display:"block"});break;case"3":$(this.view).find(".three-columns").css({display:"block"});break;case"4":$(this.view).find(".four-columns").css({display:"block"});break;case"6":$(this.view).find(".six-columns").css({display:"block"});break;case"12":$(this.view).find(".twelve-columns").css({display:"block"})}e&&e()}},pulley.view.controls.GuidesVC=pulley.view.ViewController.extend(new pulley.view.controls.GuidesVC),pulley.view.controls.GuidesVC.type=pulley.view.controls.GuidesVC.prototype.type="pulley.view.controls.GuidesVC",registerNamespace("pulley.view.controls"),pulley.view.controls.NavBarModel=function(){var e=pulley.view.controls.NavBarModel;this.init=function(e,t){this.left=null,this.middle=null,this.right=null,this._super(e),t&&t()},this.setModel_left=function(e){this.left=e,this.dispatchEvent(pulley.view.controls.NavBarModel.CHANGED)},this.setModel_right=function(e){this.right=e,this.dispatchEvent(pulley.view.controls.NavBarModel.CHANGED)},this.setModel_middle=function(e){this.middle=e,this.dispatchEvent(pulley.view.controls.NavBarModel.CHANGED)}},pulley.view.controls.NavBarModel=pulley.model.ModelController.extend(new pulley.view.controls.NavBarModel),pulley.view.controls.NavBarModel.type=pulley.view.controls.NavBarModel.prototype.type="pulley.view.controls.NavBarModel",pulley.view.controls.NavBarModel.CHANGED="changed",pulley.view.controls.NavBarVC=function(){this.init=function(){if(this.initializedByAngular)this._super.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);else{var e=arguments[0],t=arguments[1],i=arguments[2];this._super(e,t)}this.children.left=this.$view.find(">.inner >.left")[0],this.children.middle=this.$view.find(">.inner >.middle")[0],this.children.right=this.$view.find(">.inner >.right")[0],i&&i()},this.destroy=function(){this._super()},this.ready=function(e){this._super(),e&&e()},this.setModel=function(e){var t=e!=this.model;t&&(this.model=e,this.model.addEventListener(pulley.view.controls.NavBarModel.CHANGED,this,this.model_onChanged)),this.apply()},this.apply=function(){if(this._super(),this.children.left.innerHTML="",this.children.middle.innerHTML="",this.children.right.innerHTML="",this.model){var t={left:this.children.left,middle:this.children.middle,right:this.children.right};for(var i in t){var n=t[i],s=this.model[i],r=null;s?s instanceof Array?r=$(s):s instanceof pulley.view.ViewController?r=s.$view:s instanceof Element?r=$(s):"string"==typeof s?r=$(s):e.e:r=null,$(n).append(r)}}},this.model_onChanged=function(e,t){__config.logging&&log("NavBarVC._applyModelToView()"),this.apply()}},pulley.view.controls.NavBarVC=pulley.view.ViewController.extend(new pulley.view.controls.NavBarVC),pulley.view.controls.NavBarVC.type=pulley.view.controls.NavBarVC.prototype.type="pulley.view.controls.NavBarVC",pulley.view.controls.NavBarVC.getClassNameByLabel=function(e){var t=e.toCamelCase()+"Button";return t},registerNamespace("pulley.view.controls"),pulley.view.controls.PaginatorVC=function(){function item_onClick(event){var _this=event.data.scope,item=event.currentTarget,itemIndex=eval($(item).attr("data-id")),itemModel=_this.model[itemIndex];if(itemModel.onClick){event.preventDefault();var data={item:itemModel,index:itemIndex};itemModel.onClick(data)}_this.selectItem(itemModel)}function selectItem(itemModel){var itemIndex=null;for(var i in this.model){var itemModel2=this.model[i];if(itemModel2==itemModel){itemIndex=eval(i);break}}itemIndex>-1||console.error("No such item found."),this.selectedIndex=itemIndex,this.selectedItem=itemModel;for(var i in this.model){var itemModel=this.model[i],item=this.children.items[i];itemModel==this.selectedItem?$(item).addClass("selected"):$(item).removeClass("selected")}this._dispatchEvent("itemSelected",this.selectedItem)}function selectItemByIndex(e){var t=this.model[e];this.selectItem(t)}function selectItemById(e){var t=null;for(var i in this.model){var n=this.model[i];if(e==n.id){t=n;break}}t||console.error("No such item found."),this.selectItem(t)}this.init=function(){if(this.initializedByAngular)this._super.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);else{var e=arguments[0],t=arguments[1],i=arguments[2];this._super(e,t)}this.model=null,this.children.list=this.$view.find(">ul")[0],this.children.items=null},this.ready=function(e){this._super(),this.setSize(),e&&e()},this.setModel=function(e){var t=e!=this.model;if(this._super(e),t){$(this.children.items).off("click",item_onClick),this.children.list.innerHTML="";for(var i in this.model){var n=this.model[i],s=n.href?n.href:"",r=n.label?n.label:"",l="<li data-id='"+i+"'>	<a href='"+s+"' alt='"+r+"'>		<span class='bullet'></span>		<div class='label'>"+r+"</div>	</a></li>";$(this.children.list).append(l)}this.children.items=this.$view.find("li").toArray(),$(this.children.items).on("click",{scope:this},item_onClick),this.model&&$(this.children.list).css(this.model.length<2?{display:"none",opacity:0}:{display:"block",opacity:1})}this.apply()},this.apply=function(){this._super(),this.model},this.setSize=function(e,t){var i=this;this._super()}},pulley.view.controls.PaginatorVC=pulley.view.ViewController.extend(new pulley.view.controls.PaginatorVC),pulley.view.controls.PaginatorVC.type,pulley.view.controls.PaginatorVC.prototype.type="pulley.view.controls.PaginatorVC";
//# sourceMappingURL=./pulley.min.map
function log(e){console&&console.log(e)}function logMethod(e,t,i){if(__config&&__config.logging){var n=e.toString()+"."+t+"()";log(n)}}function throwError(e){log("TERMINAL ERROR: "+e),nothing.nothing}function registerNamespace(namespace){var namespaceParts=namespace.split(".");namespaceParts.length>7&&e.e;var p0=namespaceParts[0],p1=namespaceParts[1],p2=namespaceParts[2],p3=namespaceParts[3],p4=namespaceParts[4],p5=namespaceParts[5],p6=namespaceParts[6];for(var i in namespaceParts)switch(i=eval(i)){case 0:window[p0]||(window[p0]={});break;case 1:window[p0][p1]||(window[p0][p1]={});break;case 2:window[p0][p1][p2]||(window[p0][p1][p2]={});break;case 3:window[p0][p1][p2][p3]||(window[p0][p1][p2][p3]={});break;case 4:window[p0][p1][p2][p3][p4]||(window[p0][p1][p2][p3][p4]={});break;case 5:window[p0][p1][p2][p3][p4][p5]||(window[p0][p1][p2][p3][p4][p5]={});break;case 6:window[p0][p1][p2][p3][p4][p5][p6]||(window[p0][p1][p2][p3][p4][p5][p6]={})}}function isElementVisible(e){var t=e.getBoundingClientRect(),i=t.top>window.innerHeight,n=t.top+e.offsetHeight<0,r=!(i||n),s=$(e).is(":visible"),o=r&&s;return o}function radiansToDegrees(e){return e*(180/Math.PI)}function degreesToRadians(e){return e*(Math.PI/180)}function isString(e){var t=typeof e,i="string"==t;return i}function isPath(e){return isString(e)&&(e.indexOf("/")||e.indexOf("#"))?!0:!1}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function randomNumber(e){var t=Math.floor(Math.random()*e);return t}function randomPassword(e){for(e||(e=8),chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",pass="",x=0;e>x;x++)i=Math.floor(62*Math.random()),pass+=chars.charAt(i);return pass}function validateEmail(e){var t=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)?!0:!1}function doesArrayContainValue(e,t){for(var i=e.length;i--;)if(e[i]==t)return!0;return!1}function removeDuplicatesFromArray(e){for(var t=e.concat(),i=0;i<t.length;++i)for(var n=i+1;n<t.length;++n)t[i]===t[n]&&t.splice(n--,1);return t}function removeObjectFromArray(e,t){for(var i in t){var n=t[i];n==e&&t.splice(i,1)}}function cleanArray(e,t){for(var i=0;i<e.length;i++)e[i]==t&&(e.splice(i,1),i--);return e}function isFirefox(){return $.browser.mozilla?!0:!1}function isTouchDevice(){var e=isiOS()||isAndroid();return e}function isAndroid(){var e=navigator.userAgent.toLowerCase().indexOf("android")>-1;return e}function isiOS(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}function isiPad(){return/iPad/i.test(navigator.userAgent)}function isFirefox(){return/Firefox/i.test(navigator.userAgent)}function isIE(){return/MSIE/i.test(navigator.userAgent)}function isWindows(){log(navigator.platform);var e=navigator.platform.toLowerCase().indexOf("win");return e>=0?!0:!1}function isiPad(){var e=/ipad/i.test(navigator.userAgent.toLowerCase());return e}function doesBrowserSupportPlaceholders(){var e=document.createElement("input");return"placeholder"in e}function addDeviceAndBrowserClassesTagsToBody(){var e=$("body");isTheUserOnAPhone()&&e.addClass("mobile"),isiOS()&&e.addClass("iOS"),isiPad()&&e.addClass("iPad"),isFirefox()&&e.addClass("firefox"),isIE(11)&&e.addClass("ie11"),isIE(10)&&e.addClass("ie10"),isIE(9)&&e.addClass("ie9"),isIE(8)&&e.addClass("ie8"),isIE(7)&&e.addClass("ie7"),isWindows()&&e.addClass("windows")}function isTheUserOnAPhone(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),t=$("body").width(),i=768>t;return i?!0:!1}function isMobileDevice(){var e=jQuery.browser.mobile;return e}function replaceSpecialCharacters(e){e.replace("&#8226;","â€¢")}function setCookie(e,t,i,n,r,s){var o=new Date;o.setTime(o.getTime()),i&&(i=1e3*i*60*60*24);var a=new Date(o.getTime()+i);document.cookie=e+"="+escape(t)+(i?";expires="+a.toGMTString():"")+(n?";path="+n:"")+(r?";domain="+r:"")+(s?";secure":"")}function getCookie(e){var t=document.cookie.split(";"),n="",r="",s="",o=!1;for(i=0;i<t.length;i++){if(n=t[i].split("="),r=n[0].replace(/^\s+|\s+$/g,""),r==e){return o=!0,n.length>1&&(s=unescape(n[1].replace(/^\s+|\s+$/g,""))),s;break}n=null,r=""}return o?void 0:null}function Delete_Cookie(e,t,i){Get_Cookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(i?";domain="+i:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")}function getURLVar(e){var t=decodeURI((RegExp(e+"=(.+?)(&|$)").exec(location.search)||[,null])[1]);return"null"==t&&(t=null),t}function disableUserScrolling(e,t){null==e&&(e=!0),null==t&&(t=!0),e&&$(document).bind("mousewheel DOMMouseScroll",function(e){e.preventDefault()}),t&&$(document).keydown(function(e){var t=[37,38,39,40,16,33,34,35,36];for(var i in t){var n=t[i];e.which==n&&e.preventDefault()}})}function bustCache(){var e=Math.round((new Date).getTime()/1e3),t=$('link[rel="stylesheet"]').toArray();for(var i in t){var n=t[i];n.href=n.getAttribute("href")+"?"+e}var r=$("img").toArray();for(var i in r){var s=r[i];s.src=s.getAttribute("src")+"?"+e}}function parsePath(e){var t=[];return e&&(t=e.split("/"),t=cleanArray(t,"")),t}function selectNavItemsBasedOnURL(e,t,i){var n="data-selected-automatically",r=$("a["+n+"]").toArray();$(r).removeClass("selected").removeAttr("data-selected-automatically"),t=normalizePath(t);var s=e?window.location.hash:window.location.pathname;s=normalizePath(s);var o=$("a").toArray(),a=[];for(var l in o){var c=o[l],u=c.pathname;u=u.replace(t,""),u=normalizePath(u);var d=c.origin!=window.location.origin;if(!d){var h=u==s;"/"==s&&u==i&&(h=!0);var p=doesElementHaveAttribute(c,"data-select-if-child-is-selected"),v=s.indexOf(u)>-1;(h||v&&p)&&a.push(c)}}$(a).addClass("selected").attr(n,"")}function normalizePath(e,t){return t&&"/"!=t&&(e=e.replace(t,"")),e.indexOf("//")>-1&&console.error("The origin must be removed. Patth in the rootURL to remove it."),e=e.toLowerCase(),"#"==e.charAt(0)&&(e=e.substring(1)),"/#"==e.substring(0,2)&&(e=e.substring(2)),"/"!=e.charAt(0)&&(e="/"+e),"/"==e.charAt(e.length-1)&&e.length>1&&(e=e.substring(0,e.length-1)),e}function doesElementHaveAttribute(e,t){var i=$(e).attr(t),n=void 0!==i;return n}function initializeNestedAnchors(){var e=$("a2").toArray();$(e).bind("click",function(e){var t=e.target.getAttribute("href"),i=e.target.getAttribute("target");i||(i="_self"),window.open(t,i)})}function retinafyImages(){function e(e){t(e)}function t(e){e.width=e.naturalWidth/2,e.height=e.naturalHeight/2}var i=$("img.retina").toArray();for(var n in i){var r=i[n],s=r.getAttribute("width"),o=r.getAttribute("height"),a=s||o;a||(isImageLoaded(r)?t(r):(onImageProgress(r,e),onImageLoaded(r,e)))}}function isImageLoaded(e){return e.complete?"undefined"!=typeof e.naturalWidth&&0===e.naturalWidth?!1:!0:!1}function onImageProgress(e,t){var i=imagesLoaded(e);i.on("progress",function(i,n){var r=n.isLoaded?"loaded":"broken";t(e)})}function onImageLoaded(e,t){var i=imagesLoaded(e);i.on("done",function(i){t(e)})}function fallbackFromSVGsToPNGs(){var e=Modernizr.svg;if(!e){var t=$('img[src*=".svg"]').toArray();for(var i in t){var n=t[i],r=n.src,s=r.substring(0,r.indexOf(".svg"))+".png";n.src=s}}}function track(e,t){var i=e,n=t;ga("send","event",i,n)}function ajax(e){var t=e.method?e.method:"get",i=e.dataType?e.dataType:"json",n=__config.ajaxTimeout?__config.ajaxTimeout:1e4;$.ajax({url:e.url,method:t,data:e.data,dataType:i,timeout:n,notmodified:function(e){},timeout:function(e){},abort:function(e){},parseerror:function(e){},complete:function(e){},error:function(t,i,n){e.error&&e.error(arguments)},success:function(t,i,n){t.success?e.success&&e.success(t,i,n):e.error&&e.error(arguments)}})}function lockElement(e){for(var t in __elementLocks)if(e==__elementLocks[t])return;__elementLocks.push(e)}function unlockElement(e){for(var t in __elementLocks)if(e==__elementLocks[t])return __elementLocks.splice(t,1),!0;return!1}function isElementLocked(e){for(var t in __elementLocks)if(e==__elementLocks[t])return!0;return!1}window.console||(window.console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}}),String.prototype.toCamelCase=function(){var e=this.toLowerCase().replace(/['"]/g,"").replace(/\W+/g," ").replace(/ (.)/g,function(e){return e.toUpperCase()}).replace(/ /g,"");return e},String.prototype.toDashCase=function(){var e=this,t=e.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();return t},String.prototype.toTitleCase=function(){var e=this.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});return e},String.prototype.plural=function(){var e=this.charAt(this.length);return"y"===e?this.charAt(this.length-2).isVowel()?this+"s":this.slice(0,-1)+"ies":"us"===this.substring(this.length-2)?this.slice(0,-2)+"i":-1!==["ch","sh"].indexOf(this.substring(this.length-2))||-1!==["x","s"].indexOf(e)?this+"es":this+"s"},function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),s=window.setTimeout(function(){t(n+r)},r);return e=n+r,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var __elementLocks=[];registerNamespace("Pulley"),Pulley.Class=function(e){this.cid=_.uniqueId("c"),Pulley.Class.applyAttributesToObject(e,this),this.initialize.apply(this,arguments)},_.extend(Pulley.Class.prototype,Backbone.Events,{}),Pulley.Class.extend=Backbone.Model.extend,Pulley.Class.type=Pulley.Class.prototype.type="Pulley.Class",Pulley.Class.applyAttributesToObject=function(e,t){function i(e){var t=["model","collection","el","id","className","tagName","attributes","events"];for(var i in t)if(e==t[i])return!0;return!1}if(e)for(var n in e){var r=i(n);if(!r){var s=e[n];t[n]=s}}},registerNamespace("Pulley.model"),Pulley.model.LocalData=Backbone.Model.extend({initialize:function(e,t){this.modelClassesByType=e,this.catalog={Flights:null,FlightGroups:null},t&&t()},addObject:function(t){t||e.e,t.id||e.e;var i=this.getCatalogByObjType(t.objType);i[t.id]=t},getCatalogByObjType:function(e){var t=e+"s",i=this.catalog[t];return i||(i=this.catalog[t]=[]),i},getObjectFromCatalogByObjTypeAndId:function(e,t){var i=this.getCatalogByObjType(e);if(i){var n=i[t];return n}return null},updateObjects:function(e){function t(e){var t=i.getCatalogByObjType(e.objType),n=t[e.id];if(n)return n.setModel(e),{success:!0,message:"Updated existing object.",data:n};var r=i.modelClassesByType[e.objType],s=new r(e);return t[e.id]=s,{success:!0,message:"Added object.",data:s}}var i=this;__config.logging&&log("LocalData.updateObjects()");var n=[],r=[];if(e instanceof Array)for(var s in e){var o=e[s],a=t(o);r[s]=a.data,a.success||n.push(a)}else{var a=t(e);a.success||n.push(a)}return n.length?{success:!1,message:"One or more objects failed to update.",data:n}:{success:!0,message:"Successfully updated all objects.",data:r}},removeObjects:function(e){function t(e){var t=i.catalog[e.objType+"s"];if(!t)return{success:!1,message:"There are no cataloged items of this type.",data:e};var n=t[e.id];return n?(t.splice(e.id,1),n.destroy(),{success:!0,message:"Updated existing object.",data:n}):{success:!0,message:"The object did not exist to remove."}}var i=this;__config.logging&&log("LocalData.updateObjects()");var n=[];if(e instanceof Array)for(var r in e){var s=e[r],o=t(s);o.success||n.push(o)}else{var o=t(e);o.success||n.push(o)}return n.length?{success:!1,message:"One or more objects failed to be removed.",data:n}:{success:!0,message:"Successfully removed all objects."}}}),Pulley.model.LocalData.type=Pulley.model.LocalData.prototype.type="Pulley.model.LocalData",registerNamespace("Pulley.model"),Pulley.Model=Backbone.Model.extend({initialize:function(e,t){this.type=this.__proto__.type},clientUrl:null,clientUrlRoot:null,getType:function(e){if(e){var t=this.type.substring(this.type.lastIndexOf(".")+1);return t}return this.type},clientUrl:function(){var e=_.result(this,"clientUrlRoot")||_.result(this.collection,"clientUrl")||urlError();if(this.isNew())return e;var t=e+"/"+encodeURIComponent(this.id);return __config&&__config.rootURL.indexOf("//")>-1&&t.replace(__config.rootURL,""),t}}),Pulley.Model.type=Pulley.Model.prototype.type="Pulley.Model",registerNamespace("Pulley"),Pulley.HTMLInjector=function(){this.init=function(){function e(){Pulley.HTMLInjector._injectIncludes(r,t)}function t(){}function i(){Pulley.HTMLInjector.pageInitialized=!0,n.dispatchEvent(Pulley.HTMLInjector.PAGE_INITIALIZED);for(var e in window._views){var t=window._views[e];t.ready&&!t.readied&&t.ready()}}var n=this,r=$("body")[0],s=null;s?Pulley.HTMLInjector._loadHTMLTemplates(s,e):e()}},Pulley.HTMLInjector.prototype.type=Pulley.HTMLInjector.type="Pulley.HTMLInjector",Pulley.HTMLInjector.templates=null,Pulley.HTMLInjector.pageInitialized=!1,Pulley.HTMLInjector.PAGE_INITIALIZED="pageInitialized",Pulley.HTMLInjector.init=function(){Pulley.HTMLInjector.instance=new Pulley.HTMLInjector},Pulley.HTMLInjector.toString=function(){return"HTMLInjector"},Pulley.HTMLInjector._loadHTMLTemplates=function(e,t){function i(i){Pulley.HTMLInjector.templates.push(i),Pulley.HTMLInjector.templates.length==e.length&&t()}if(Pulley.HTMLInjector.templates||(Pulley.HTMLInjector.templates=[]),e.length<1)return void t();for(var n in e){var r=e[n],s=r.substring(r.lastIndexOf("/")+1,r.lastIndexOf(".")),o=$("."+s)[0];o?i(o.outerHTML):$.ajax({url:r,data:{},dataType:"html",success:function(e,t,n){i(e)},error:function(e,t,i){log("Network Error:"),log(e.status.toString()),log(t.toString()),log(i.toString())},notmodified:function(e){},timeout:function(e){},abort:function(e){},parseerror:function(e){},complete:function(e){}})}},Pulley.HTMLInjector.getHTMLTemplateByViewClass=function(e){logMethod(this,"getHTMLTemplateByViewClass",arguments);for(var t in Pulley.HTMLInjector.templates){var i=Pulley.HTMLInjector.templates[t],n=i.indexOf("class=")+6,r=i.charAt(n),s=i.indexOf(r,n+1),o=i.substring(n+1,s);if(o==e.toString())return i}},Pulley.HTMLInjector._injectIncludes=function(e,t){function i(){o++,o>=s.length&&t&&t()}function n(e){logMethod(r,"loadInclude",arguments);var t=$(e).attr("data-include-src"),n=$(e).attr("data-include-id"),s=$(e).attr("data-include-class");$.ajax({url:t,data:{},dataType:"html",success:function(t,r,o){var a=t,l=$(a)[0];e.innerHTML=l.innerHTML;for(var c=0;c<l.attributes.length;c++){var u=l.attributes[c].name,d=$(l).attr(u),h=$(e).attr(u);h||$(e).attr(u,d)}var p=e.children[0];n&&(p.id=n),$(p).addClass(s),$(e).attr('data-include-loaded="true"'),Pulley.HTMLInjector._injectIncludes(e,i)},error:function(e,t,i){log("Network Error:"),log(e.status.toString()),log(t.toString()),log(i.toString())},notmodified:function(e){},timeout:function(e){},abort:function(e){},parseerror:function(e){},complete:function(e){}})}var r=this;logMethod(this,"_injectIncludes",arguments);var s=$(e).find("*[data-include-src]").toArray(),o=0;if(s.length)for(var a in s){var l=s[a];n(l)}else i()},registerNamespace("Pulley.view"),Pulley.View=Backbone.View.extend({tagName:"div",className:"view",template:Handlebars.compile('<div class="view">Template goes here</div>'),defaults:{},stateContainer:null,setWidth:null,setHeight:null,_locks:[],previousState:null,currentState:null,states:[],initialize:function(e){this.type=this.__proto__.type,Pulley.Class.applyAttributesToObject(e,this),this.children||(this.children={}),this._createGlobalReference(),this.initialized=!0,this.render()},render:function(){if(!this.drawn){this.drawn=!0;var e=this.template(this);this.setElement($(e)[0]),Pulley.View.autoinitializeViews(this.el)}return this},setElement:function(e){return this.$el&&this.$el.replaceWith(e),Backbone.View.prototype.setElement.apply(this,arguments),this},setModel:function(e){this.model=e,this.render(),(this.model instanceof Backbone.Model||this.model instanceof Backbone.Collection)&&this.listenTo(this.model,"change",this.render)},_createGlobalReference:function(){window._views||(window._views=[],window.getView=window.c=Pulley.View.getView,window.addView=Pulley.View.addView),window.addView(this)},_defineDeclarativeStates:function(){function e(t){for(var i=[],n=0;n<t.children.length;n++){var r=t.children[n];if(r.hasAttribute("data-state-id")){var s=$(r).attr("data-state-id"),o=$(r).attr("data-state-label"),a=$(r).attr("data-state-type"),l=$(r).attr("data-state-implementation-method");if(l){var u=_this[l];u||console.error("No function with this name found.")}var d=new Pulley.view.State({id:s,label:o,type:a,implementation:u,view:r}),h=c(r.id);h&&(d.view=h),i.push(d)}else if(!r.hasAttribute("data-initialized")){var p=e(r);i=i.concat(p)}}return i}var t=_this.$("[data-state-id]").toArray();if(t.length){var i=e(_this.el);_this.states=_this.states.concat(i)}},reset:function(e){e&&(this.destroy(),this.init())},focus:function(){},setSize:function(e,t){if(e>=0&&this.$el.width(e),t>=0&&this.$el.width(t),this.children)for(var i in this.children){var n=this.children[i];n&&n.setSize&&n.setSize()}},isLocked:function(){return this._locks.length?!0:!1},lock:function(e){e||console.error("You must provide a lock id."),this._locks.push(e),1==this._locks.length&&this.$el.addClass("locked")},unlock:function(e){this._locks<=0&&console.error("The app is not locked. Make sure that each lock() and unlock() call has a pair.");var t=null;for(var i in this._locks)this._locks[i]==e&&(this._locks.splice(i,1),t=!0);t||console.error("No lock with id "+e+" was found."),0==this._locks.length&&this.$el.removeClass("locked")},setState:function(e,t,i,n){function r(){o.render(),o.setSize(),o.currentState.view&&o.currentState.view.focus&&o.currentState.view.focus(),d&&o.previousState&&o.previousState.view&&o.previousState.view instanceof Pulley.View&&o.stopListening(o.previousState.view,Pulley.View.STATE_CHANGED,o._currentState__onStateChanged),o.currentState.view&&o.currentState.view instanceof Pulley.View&&o.listenTo(o.currentState.view,Pulley.View.STATE_CHANGED,o._currentState__onStateChanged),n&&n()}var s=Pulley.view.State,o=this;logMethod(this,"setState",arguments);var a,l;if(isPath(e)){var c=parsePath(e);c.length||(c=null),a=this.getState(c[0]),c.length>1&&(l=c.slice(1).join("/"))}else e?(a=this.getState(e),a||console.error("invalid state")):a=this.states[0];if(a){var u=null,d=this.currentState!=a;if(d&&(this.previousState=this.currentState,this.currentState=a,u=this._areStatesInReverseOrder(this.previousState,this.currentState)),!i){if(d&&this.previousState){var h=this.previousState.view instanceof Pulley.View?this.previousState.view.$el[0]:this.previousState.view;h.parentElement&&h.parentElement.removeChild(h)}this.currentState.view||(this.currentState.view=new this.currentState.viewClass),t&&this.currentState.view.setModel&&this.currentState.view.setModel(t);var p=null;p=this.currentState.view instanceof Pulley.View?this.currentState.view.el:this.currentState.view,this.stateContainer||(this.stateContainer=this.el),this.stateContainer.appendChild(p),this.currentState.view instanceof Pulley.View&&this.currentState.view.setState(l),this.trigger(Pulley.View.STATE_CHANGED)}this.currentState.view&&this.currentState.view.setSize&&window.requestAnimationFrame(function(){o.currentState.view&&o.currentState.view.setSize&&o.currentState.view.setSize()}),this.currentState.implementation?(this.setSize(),this.currentState.implementation.call(this,i,u,r)):r()}},_currentState__onStateChanged:function(e,t){this.trigger(Pulley.View.STATE_CHANGED)},getStateIndex:function(state){for(var i in this.states){var state2=this.states[i];if(state==state2)return eval(i)}},getPreviousStateByOrder:function(e){null==e&&(e=!0);for(var t=this.getStateIndex(this.currentState),i=t-1;i<this.states.length;i--){if(0>i)return null;var n=this.states[i];if(!e)return n;if(n.TYPE!=Pulley.view.State.TYPE__MODAL)return n}},getNextStateByOrder:function(e){null==e&&(e=!0);for(var t=this.getStateIndex(this.currentState),i=t+1;i<this.states.length;i++){var n=this.states[i];if(!e)return n;if(n.TYPE!=Pulley.view.State.TYPE__MODAL)return n}},getLastState:function(e){null==e&&(e=!0);for(var t=this.states.length-1;t>-1;t--){var i=this.states[t];if(!e)return i;if(i.TYPE!=Pulley.view.State.TYPE__MODAL)return i}},getState:function(e){var t;if(isString(e)){for(var i in this.states)if(t=this.states[i],t.id==e)return t}else{if(isNumber(e))return t=this.states[e];if(e instanceof Pulley.view.State)return t=e}var n=!1;if(!n){var r=new Pulley.view.State({id:"404",name:"Page Note Found",view:$("<div>404: Page not found</div>")[0]});return r}console.error("Invalid argument provided.")},_areStatesInReverseOrder:function(e,t){var i=null,n=null;return i=n?!0:this.getStateIndex(e)>this.getStateIndex(t)}}),Pulley.View.type=Pulley.View.prototype.type="Pulley.View",Pulley.View.STATE_CHANGED="stateChanged",Pulley.View.autoinitializeViews=function(e){function t(e){var t=$(e).find("*[data-view]").toArray(),i=[];for(var n in t){var r=t[n],s="true"==$(r).attr("data-initialized");s||i.push(r)}return i}var i=t(e),n=[];for(var r in i){var s=i[r],o=$(s),a=o.attr("data-view"),l=Pulley.View.getViewByNamespace(a);if(l){var c={el:s},u=o.attr("data-model");u&&(c.model=JSON.parse(u));var d=o.attr("data-settings");d&&(c.settings=JSON.parse(d));var h=new l(c);n.push(h)}}return n},Pulley.View.getViewByNamespace=function(t){var i=t.split("."),n=window,r=null;for(var s in i){var o=i[s];if(!(s<i.length-1)){r=n[o];break}n=n[o],n||e.e}return r},Pulley.View.getView=function(e){var t=null;if(e instanceof Element){var i=e;t=$(i).attr("data-cid")}else t=e;var n=window._views[t];return n},Pulley.View.addView=function(e){e.$el.attr("data-cid",e.cid),window._views[e.cid]=e},Pulley.view.State=function(e,t){this.id=null,this.label=null,this.type=null,this.implementation=null,this.viewClass=null,this.view=null,this.type=this.__proto__.type,this.type||(type=Pulley.view.State.prototype.type);for(var i in e){var n=e[i];this[i]=n}this.id||0==this.id||console.error("You must provide an id to create a State."),this.type||(this.type=Pulley.view.State.TYPE__PAGE),this.view||this.viewClass||console.error("You must provide a view or viewClass to create a State.")},Pulley.view.State.type=Pulley.view.State.prototype.type="Pulley.view.State",Pulley.view.State.TYPE__PAGE="page",Pulley.view.State.TYPE__MODAL="modal",Pulley.view.State.TYPE__TRANSITION="transition",registerNamespace("Pulley.view.controls"),Pulley.view.controls.DropDownManager=Pulley.Module.extend({timeUntilDropDownCloses:500,_closeTimer:null,activeDropDown:null,initialize:function(e){if(!this.dropDowns)return void console.error('You must pass in a "dropDowns" array with the format [{mainNavItem: el, dropDownNav: el}]"');for(var t in this.dropDowns){var i=this.dropDowns[t];this._initDropDownNav(i.mainNavItem,i.dropDownNav)}document.onclick=this._closeActiveDropDown},_initDropDownNav:function(e,t){var i=this;$(e).bind("mouseover",function(e){i._openDropDown(t)}).bind("mouseout",function(e){i._startCloseTimer()}),$(t).bind("mouseover",function(e){i._cancelCloseTimer()}).bind("mouseout",function(e){i._startCloseTimer()})},_openDropDown:function(e){console.log("_openDropDown()"),this._cancelCloseTimer(),this._closeActiveDropDown(),this.activeDropDown=e,$(e).css({display:"block",opacity:1})},_closeActiveDropDown:function(){this.activeDropDown&&(console.log("_closeActiveDropDown()"),$(this.activeDropDown).css({display:"none",opacity:0}),this.activeDropDown=null)},_startCloseTimer:function(){var e=this;this._closeTimer=window.setTimeout(function(){e._closeActiveDropDown()},this.timeUntilDropDownCloses)},_cancelCloseTimer:function(){this._closeTimer&&(window.clearTimeout(this._closeTimer),this._closeTimer=null)}}),Pulley.view.controls.DropDownManager.type=Pulley.view.controls.DropDownManager.prototype.type="Pulley.view.controls.DropDownManager",registerNamespace("Pulley.view.controls"),Pulley.view.controls.Guides=Pulley.View.extend({tagName:"div",className:"foo",template:Handlebars.compile($("#guides-template").html()),initialize:function(e){Pulley.View.prototype.initialize.apply(this,arguments),this.model={numberOfGuidesToShow:parseInt(getURLVar("guides"))},this.render()},render:function(){if(!this.drawn){this.drawn=!0;var e=this.template(this);this.setElement($(e)[0])}if(this.model)if(this.model.numberOfGuidesToShow)switch(this.$el.css({display:"block"}),this.model.numberOfGuidesToShow){case 1:this.$(".one-column").css({display:"block"});break;case 2:this.$(".two-columns").css({display:"block"});break;case 3:this.$(".three-columns").css({display:"block"});break;case 4:this.$(".four-columns").css({display:"block"});break;case 5:this.$(".five-columns").css({display:"block"});break;case 6:this.$(".six-columns").css({display:"block"});break;case 12:this.$(".twelve-columns").css({display:"block"})}else this.$el.remove();return this}}),Pulley.view.controls.Guides.type=Pulley.view.controls.Guides.prototype.type="Pulley.view.controls.Guides",registerNamespace("Pulley.view.controls"),Pulley.view.controls.NavBarModel=function(){var e=Pulley.view.controls.NavBarModel;this.init=function(e,t){this.left=null,this.middle=null,this.right=null,this._super(e),t&&t()},this.setModel_left=function(e){this.left=e,this.dispatchEvent(Pulley.view.controls.NavBarModel.CHANGED)},this.setModel_right=function(e){this.right=e,this.dispatchEvent(Pulley.view.controls.NavBarModel.CHANGED)},this.setModel_middle=function(e){this.middle=e,this.dispatchEvent(Pulley.view.controls.NavBarModel.CHANGED)}},Pulley.view.controls.NavBarModel=Backbone.Model.extend(new Pulley.view.controls.NavBarModel),Pulley.view.controls.NavBarModel.type=Pulley.view.controls.NavBarModel.prototype.type="Pulley.view.controls.NavBarModel",Pulley.view.controls.NavBarModel.CHANGED="changed",registerNamespace("Pulley.view.controls"),Pulley.view.controls.NavBar=function(){this.init=function(){if(this.initializedByAngular)this._super.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);else{var e=arguments[0],t=arguments[1],i=arguments[2],n=arguments[3];this._super(e,t,i)}this.children.left=this.$(">.inner >.left")[0],this.children.middle=this.$(">.inner >.middle")[0],this.children.right=this.$(">.inner >.right")[0],n&&n()},this.destroy=function(){this._super()},this.ready=function(e){this._super(),e&&e()},this.setModel=function(e){var t=e!=this.model;t&&(this.model=e,this.model.addEventListener(Pulley.view.controls.NavBarModel.CHANGED,this,this.model_onChanged)),this.render()},this.render=function(){if(this._super(),this.children.left.innerHTML="",this.children.middle.innerHTML="",this.children.right.innerHTML="",this.model){var t={left:this.children.left,middle:this.children.middle,right:this.children.right};for(var i in t){var n=t[i],r=this.model[i],s=null;r?r instanceof Array?s=$(r):r instanceof Pulley.View?s=r.$el:r instanceof Element?s=$(r):"string"==typeof r?s=$(r):e.e:s=null,$(n).append(s)}}},this.model_onChanged=function(e,t){__config.logging&&log("NavBar._render()"),this.render()}},Pulley.view.controls.NavBar=Pulley.View.extend(new Pulley.view.controls.NavBar),Pulley.view.controls.NavBar.type=Pulley.view.controls.NavBar.prototype.type="Pulley.view.controls.NavBar",Pulley.view.controls.NavBar.getClassNameByLabel=function(e){var t=e.toCamelCase()+"Button";return t},registerNamespace("Pulley.view.controls"),Pulley.view.controls.Paginator=function(){this.init=function(){if(this.initializedByAngular)this._super.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);else{var e=arguments[0],t=arguments[1],i=arguments[2],n=arguments[3];this._super(e,t,i)}this.model||(this.model=null),this.children.list=this.$(">ul")[0],this.children.items=null},this.ready=function(e){this._super(),this.setSize(),e&&e()},this.setModel=function(e){var t=e!=this.model;if(this._super(e),t){$(this.children.items).off("click",this.item_onClick),this.children.list.innerHTML="";for(var i in this.model){var n=this.model[i],r=n.href?n.href:"",s=n.label?n.label:"",o="<li data-id='"+i+"'>	<a href='"+r+"' alt='"+s+"'>		<span class='bullet'></span>		<div class='label'>"+s+"</div>	</a></li>";$(this.children.list).append(o)}this.children.items=this.$("li").toArray(),$(this.children.items).on("click",{scope:this},this.item_onClick),this.model&&$(this.children.list).css(this.model.length<2?{display:"none",opacity:0}:{display:"inline-block",opacity:1})}this.render()},this.render=function(){this._super(),this.model},this.setSize=function(e,t){var i=this;this._super()},this.item_onClick=function(event){event.preventDefault();var _this=event.data.scope,item=event.currentTarget,itemIndex=eval($(item).attr("data-id")),itemModel=_this.model[itemIndex];if(itemModel.onClick){event.preventDefault();var data={item:itemModel,index:itemIndex};itemModel.onClick(data)}_this.selectItem(itemModel),_this.dispatchEvent(Pulley.view.controls.Paginator.ITEM_CLICKED,{item:item,itemModel:itemModel,itemIndex:itemIndex})},this.selectItem=function(itemModel){var itemIndex=null;for(var i in this.model){var itemModel2=this.model[i];if(itemModel2==itemModel){itemIndex=eval(i);break}}itemIndex>-1||console.error("No such item found."),this.selectedIndex=itemIndex,this.selectedItem=itemModel;for(var i in this.model){var itemModel=this.model[i],item=this.children.items[i];itemModel==this.selectedItem?$(item).addClass("selected"):$(item).removeClass("selected")}this.dispatchEvent(Pulley.view.controls.Paginator.ITEM_SELECTED,this.selectedItem)},this.selectItemByIndex=function(e){var t=this.model[e];this.selectItem(t)},this.selectItemById=function(e){var t=null;for(var i in this.model){var n=this.model[i];if(e==n.id){t=n;break}}t||console.error("No such item found."),this.selectItem(t)}},Pulley.view.controls.Paginator=Pulley.View.extend(new Pulley.view.controls.Paginator),Pulley.view.controls.Paginator.type,Pulley.view.controls.Paginator.prototype.type="Pulley.view.controls.Paginator",Pulley.view.controls.Paginator.ITEM_SELECTED="itemSelected",Pulley.view.controls.Paginator.ITEM_CLICKED="itemClicked",registerNamespace("Pulley.view.controls"),Pulley.view.controls.Slider=function(){this.init=function(){if(this.settings_default={rotationDuration:null},this.initializedByAngular)this._super.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);else{var e=arguments[0],t=arguments[1],i=arguments[2],n=arguments[3];this._super(e,t,i)}if(this.children.nav=this.$(">nav")[0],this.children.previousButton=this.$(".previous-button")[0],this.children.nextButton=this.$(".next-button")[0],this.children.paginator=null,this.children.slidesContainer=this.$(".slides")[0],this.timer=null,this.userHasInteracted=!1,this.slides=this.$(".slide").toArray(),this.currentSlide=this.slides[0],this.currentIndex=0,this.slides.length>1){var r=this.slides.slice(1);$(r).css({display:"none",opacity:0})}n&&n()},this.ready=function(e){var t=this,i=this.$(".Paginator")[0];this.children.paginator=c(i.id),this._super();var n=[];for(var r in this.slides){var s={label:r,href:"#"};n.push(s)}this.children.paginator.setModel(n),$(this.children.previousButton).bind("click",function(){t.userHasInteracted=!0,t.stopTimer(),t.goToPreviousSlide(!0,!0)}),$(this.children.nextButton).click("click",function(){t.userHasInteracted=!0,t.stopTimer(),t.goToNextSlide(!0)}),this.children.paginator.addEventListener(Pulley.view.controls.PaginatorVC.ITEM_CLICKED,this,function(e){t.userHasInteracted=!0,t.stopTimer();var i=t.children.paginator.selectedIndex;if(i!=t.currentIndex){var n=i<this.currentIndex;t.goToSlideByIndex(i,!0,n)}}),this.goToSlideByIndex(0),this.slides.length>1?($(this.children.nav).show(),this.settings.rotationDuration&&(this.timer=setTimeout(function(){t.goToNextSlide(!1)},this.settings.rotationDuration))):($(this.children.nav).hide(),this.stopTimer()),e&&e()},this.stopTimer=function(){this.timer&&clearTimeout(this.timer)},this.goToPreviousSlide=function(e){this.goToNextSlide(e,!0)},this.goToNextSlide=function(e,t){var i=this,n=this.slides.length-1,r=null;
r=t?!this.currentIndex&&0!=this.currentIndex||0==this.currentIndex?n:this.currentIndex-1:!this.currentIndex&&0!=this.currentIndex||this.currentIndex==n?0:this.currentIndex+1,this.goToSlideByIndex(r,e,t)},this.goToSlideByIndex=function(e,t,i){function n(){r.$el.css({pointerEvents:"all"})}var r=this,s=300,o=20;if(i&&(o*=-1),$(this.slides).css({position:"relative"}),this.$el.css({pointerEvents:"none"}),this.stopTimer(),this.currentIndex=e,this.children.paginator.selectItemByIndex(this.currentIndex),this.currentSlide){var a=this.currentSlide;t?$(a).transition({opacity:0,left:-o,duration:s-1}):$(a).css({display:"none",opacity:0,left:0})}this.currentSlide=this.slides[this.currentIndex],t?setTimeout(function(){$(a).css({display:"none"}),$(r.currentSlide).css({display:"block",opacity:0,left:o}).transition({opacity:1,left:0,duration:s,complete:n})},s):($(this.currentSlide).css({display:"block",opacity:1,left:0}),n()),this.stopTimer(),!this.userHasInteracted&&this.settings.rotationDuration&&(this.timer=setTimeout(function(){r.userHasInteracted||r.goToNextSlide(!0)},this.settings.rotationDuration))}},Pulley.view.controls.Slider=Pulley.View.extend(new Pulley.view.controls.Slider),Pulley.view.controls.Slider.type=Pulley.view.controls.Slider.prototype.type="Pulley.view.controls.Slider";
//# sourceMappingURL=./pulley.min.map
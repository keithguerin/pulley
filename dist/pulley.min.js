function log(e){console&&console.log(e)}function logMethod(e,t,i){if(__config&&__config.logging){var n=e.toString()+"."+t+"()";log(n)}}function throwError(e){log("TERMINAL ERROR: "+e),nothing.nothing}function isElementVisible(e){var t=e.getBoundingClientRect(),i=t.top>window.innerHeight,n=t.top+e.offsetHeight<0,l=!(i||n),o=$(e).is(":visible"),r=l&&o;return r}function radiansToDegrees(e){return e*(180/Math.PI)}function degreesToRadians(e){return e*(Math.PI/180)}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function randomNumber(e){var t=Math.floor(Math.random()*e);return t}function randomPassword(e){for(e||(e=8),chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",pass="",x=0;e>x;x++)i=Math.floor(62*Math.random()),pass+=chars.charAt(i);return pass}function validateEmail(e){var t=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)?!0:!1}function doesArrayContainValue(e,t){for(var i=e.length;i--;)if(e[i]==t)return!0;return!1}function removeDuplicatesFromArray(e){for(var t=e.concat(),i=0;i<t.length;++i)for(var n=i+1;n<t.length;++n)t[i]===t[n]&&t.splice(n--,1);return t}function cleanArray(e){for(var t=0;t<this.length;t++)this[t]==e&&(this.splice(t,1),t--);return this}function isFirefox(){return $.browser.mozilla?!0:!1}function isTouchDevice(){var e=isiOS()||isAndroid();return e}function isAndroid(){var e=navigator.userAgent.toLowerCase().indexOf("android")>-1;return e}function isiOS(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}function isiPad(){return/iPad/i.test(navigator.userAgent)}function isFirefox(){return/Firefox/i.test(navigator.userAgent)}function isIE(){return/MSIE/i.test(navigator.userAgent)}function isWindows(){log(navigator.platform);var e=navigator.platform.toLowerCase().indexOf("win");return e>=0?!0:!1}function isiPad(){var e=/ipad/i.test(navigator.userAgent.toLowerCase());return e}function doesBrowserSupportPlaceholders(){var e=document.createElement("input");return"placeholder"in e}function addDeviceAndBrowserClassesTagsToBody(){var e=$("body");isTheUserOnAPhone()&&e.addClass("mobile"),isiOS()&&e.addClass("iOS"),isiPad()&&e.addClass("iPad"),isFirefox()&&e.addClass("firefox"),isIE(11)&&e.addClass("ie11"),isIE(10)&&e.addClass("ie10"),isIE(9)&&e.addClass("ie9"),isIE(8)&&e.addClass("ie8"),isIE(7)&&e.addClass("ie7"),isWindows()&&e.addClass("windows")}function isTheUserOnAPhone(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),t=$("body").width(),i=768>t;return i?!0:!1}function isMobileDevice(){var e=jQuery.browser.mobile;return e}function replaceSpecialCharacters(e){e.replace("&#8226;","â€¢")}function setCookie(e,t,i,n,l,o){var r=new Date;r.setTime(r.getTime()),i&&(i=1e3*i*60*60*24);var s=new Date(r.getTime()+i);document.cookie=e+"="+escape(t)+(i?";expires="+s.toGMTString():"")+(n?";path="+n:"")+(l?";domain="+l:"")+(o?";secure":"")}function getCookie(e){var t=document.cookie.split(";"),n="",l="",o="",r=!1;for(i=0;i<t.length;i++){if(n=t[i].split("="),l=n[0].replace(/^\s+|\s+$/g,""),l==e){return r=!0,n.length>1&&(o=unescape(n[1].replace(/^\s+|\s+$/g,""))),o;break}n=null,l=""}return r?void 0:null}function Delete_Cookie(e,t,i){Get_Cookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(i?";domain="+i:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")}function getURLVar(e){return decodeURI((RegExp(e+"=(.+?)(&|$)").exec(location.search)||[,null])[1])}function disableUserScrolling(e,t){null==e&&(e=!0),null==t&&(t=!0),e&&$(document).bind("mousewheel DOMMouseScroll",function(e){e.preventDefault()}),t&&$(document).keydown(function(e){var t=[37,38,39,40,16,33,34,35,36];for(var i in t){var n=t[i];e.which==n&&e.preventDefault()}})}!function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},this.Class.prototype=new $,Class.extend=function(i){function n(t,i){var n=arguments;this.initializedByAngular=null,t&&t.$id&&(this.initializedByAngular=!0),!e&&this.init&&this.init.apply(this,arguments)}var l=this.prototype;e=!0;var o=new this;e=!1;for(var r in i)o[r]="function"==typeof i[r]&&"function"==typeof l[r]&&t.test(i[r])?function(e,t){return function(){var i=this._super;this._super=l[e];var n=t.apply(this,arguments);return this._super=i,n}}(r,i[r]):i[r];return n.prototype=o,n.prototype.constructor=n,n.extend=arguments.callee,n}}(),window.pulley||(window.pulley={model:{valueobjects:{}},view:{controls:{}}}),pulley.Controller=function(){this.init=function(e){this.type=this.type,this.type_=this.type.substr(this.type.lastIndexOf(".")+1);for(var t in e){var i=e[t];this[t]=i}this.listeners=null,__config.logging&&(log(""),log("new "+this.toString()+"()"),logMethod(this,"init",arguments)),this.inited=!0},this.destroy=function(e){this.inited=!1;for(var t in this.listeners){var i=this.listeners[t];this.removeEventListener(i.name,i.listenerFunction)}this.listeners=null;for(var t in window._controllers){var n=window._controllers[t];n==this&&(window._controllers=array.splice(t,1))}},this.addEventListener=function(t,i,n){if(t&&i&&n||e.e,this.listeners||(this.listeners=[]),!this.hasEventListener(t,i,n)){var l=new pulley.EventListener(t,i,n);this.listeners.push(l)}},this.hasEventListener=function(e,t,i){if(!this.listeners)return!1;for(var n=0;n<this.listeners.length;n++){var l=this.listeners[n];if(e==l.eventType&&i==l.listenerFunction)return!0}return!1},this.removeEventListener=function(e,t){if(this.listeners)for(var i=0;i<this.listeners.length;i++){var n=this.listeners[i];if(e==n.eventType&&t==n.listenerFunction)return void this.listeners.splice(i,1)}},this.dispatchEvent=function(e,t){if(this.listeners)for(var i=0,i=0;i<this.listeners.length;i++){var n=this.listeners[i];e==n.eventType&&n.listenerFunction.call(n.originalScope,e,t)}}},pulley.Controller=Class.extend(new pulley.Controller),pulley.Controller.type=pulley.Controller.prototype.type="Controller",pulley.EventListener=function(){this.init=function(t,i,n){return t&&n&&i||e.e,this.eventType=t,this.listenerFunction=n,this.originalScope=i,this}},pulley.EventListener=Class.extend(new pulley.EventListener),pulley.EventListener.type=pulley.EventListener.prototype.type="EventListener",pulley.model.ModelController=function(){this.init=function(e,t){this.APIInterface=null,this.APIInterface_loadObjectMethod=null,this.APIInterface_saveObjectMethod=null,this.APIInterface_deleteObjectMethod=null,this._super(e),t&&t()},this.setModel=function(e){for(var t in e)if("isStub"!=t){var i=t;this[i]=e[t]}this.dispatchEvent(pulley.model.ModelController.CHANGED,this)},this.load=function(e,t){function i(t){l.dispatchEvent(pulley.model.ModelController.LOADED,l),e&&e()}function n(e){t(e)}var l=this;this.APIInterface_loadObjectMethod.call(this.APIInterface,this,i,n)},this.save=function(e,t){function i(t){l.dispatchEvent(pulley.model.ModelController.SAVED,l),e&&e()}function n(e){t(e)}var l=this;this.APIInterface_saveObjectMethod.call(this.APIInterface,this,i,n)},this.delete=function(e,t){function i(t){l.dispatchEvent(pulley.model.ModelController.DELETED,l),e&&e()}function n(e){t(e)}var l=this;this.APIInterface_deleteObjectMethod.call(this.APIInterface,this,i,n)},this.destroy=function(){this.id=null,this.name=null,this.dispatchEvent(pulley.model.ModelController.DELETED,this)}},pulley.model.ModelController=pulley.Controller.extend(new pulley.model.ModelController),pulley.model.ModelController.type=pulley.model.ModelController.prototype.type="pulley.model.ModelController",pulley.model.ModelController.CHANGED="changed",pulley.model.ModelController.LOADED="loaded",pulley.model.ModelController.SAVED="saved",pulley.model.ModelController.DELETED="deleted",window.console||(window.console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}}),String.prototype.toCamelCase=function(){var e=this.toLowerCase().replace(/['"]/g,"").replace(/\W+/g," ").replace(/ (.)/g,function(e){return e.toUpperCase()}).replace(/ /g,"");return e},String.prototype.toTitleCase=function(){var e=this.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});return e},function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),l=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+l)},l);return e=n+l,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),pulley.view.controls.NavBarModel=function(){var e=pulley.view.controls.NavBarModel;this.init=function(e,t){this.left=null,this.middle=null,this.right=null,this._super(e),t&&t()},this.setModel_left=function(e){this.left=e,this.dispatchEvent(pulley.view.controls.NavBarModel.CHANGED)},this.setModel_right=function(e){this.right=e,this.dispatchEvent(pulley.view.controls.NavBarModel.CHANGED)},this.setModel_middle=function(e){this.middle=e,this.dispatchEvent(pulley.view.controls.NavBarModel.CHANGED)}},pulley.view.controls.NavBarModel=pulley.model.ModelController.extend(new pulley.view.controls.NavBarModel),pulley.view.controls.NavBarModel.type=pulley.view.controls.NavBarModel.prototype.type="pulley.view.controls.NavBarModel",pulley.view.controls.NavBarModel.CHANGED="changed",pulley.view.controls.NavBarVC=function(){this.init=function(){if(this.initializedByAngular)this._super.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);else{var e=arguments[0],t=arguments[1],i=arguments[2];this._super(e,t)}this.children.left=this.$view.find(">.inner >.left")[0],this.children.middle=this.$view.find(">.inner >.middle")[0],this.children.right=this.$view.find(">.inner >.right")[0],i&&i()},this.destroy=function(){this._super()},this.ready=function(e){this._super(),e&&e()},this.setModel=function(e){var t=e!=this.model;t&&(this.model=e,this.model.addEventListener(pulley.view.controls.NavBarModel.CHANGED,this,this.model_onChanged)),this.apply()},this.apply=function(){if(this._super(),this.children.left.innerHTML="",this.children.middle.innerHTML="",this.children.right.innerHTML="",this.model){var t={left:this.children.left,middle:this.children.middle,right:this.children.right};for(var i in t){var n=t[i],l=this.model[i],o=null;l?l instanceof Array?o=$(l):l instanceof pulley.view.ViewController?o=l.$view:l instanceof Element?o=$(l):"string"==typeof l?o=$(l):e.e:o=null,$(n).append(o)}}},this.model_onChanged=function(e,t){__config.logging&&log("NavBarVC._applyModelToView()"),this.apply()}},pulley.view.controls.NavBarVC=pulley.view.ViewController.extend(new pulley.view.controls.NavBarVC),pulley.view.controls.NavBarVC.type=pulley.view.controls.NavBarVC.prototype.type="pulley.view.controls.NavBarVC",pulley.view.controls.NavBarVC.getClassNameByLabel=function(e){var t=e.toCamelCase()+"Button";return t},pulley.view.controls.PaginatorVC=function(){function item_onClick(event){var _this=event.data.scope,item=event.currentTarget,itemIndex=eval($(item).attr("data-id")),itemModel=_this.model[itemIndex];if(itemModel.onClick){event.preventDefault();var data={item:itemModel,index:itemIndex};itemModel.onClick(data)}_this.selectItem(itemModel)}function selectItem(itemModel){var itemIndex=null;for(var i in this.model){var itemModel2=this.model[i];if(itemModel2==itemModel){itemIndex=eval(i);break}}itemIndex>-1||console.error("No such item found."),this.selectedIndex=itemIndex,this.selectedItem=itemModel;for(var i in this.model){var itemModel=this.model[i],item=this.children.items[i];itemModel==this.selectedItem?$(item).addClass("selected"):$(item).removeClass("selected")}this._dispatchEvent("itemSelected",this.selectedItem)}function selectItemByIndex(e){var t=this.model[e];this.selectItem(t)}function selectItemById(e){var t=null;for(var i in this.model){var n=this.model[i];if(e==n.id){t=n;break}}t||console.error("No such item found."),this.selectItem(t)}this.init=function(){if(this.initializedByAngular)this._super.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);else{var e=arguments[0],t=arguments[1],i=arguments[2];this._super(e,t)}this.model=null,this.children.list=this.$view.find(">ul")[0],this.children.items=null},this.ready=function(e){this._super(),this.setSize(),e&&e()},this.setModel=function(e){var t=e!=this.model;if(this._super(e),t){$(this.children.items).off("click",item_onClick),this.children.list.innerHTML="";for(var i in this.model){var n=this.model[i],l=n.href?n.href:"",o=n.label?n.label:"",r="<li data-id='"+i+"'>	<a href='"+l+"' alt='"+o+"'>		<span class='bullet'></span>		<div class='label'>"+o+"</div>	</a></li>";$(this.children.list).append(r)}this.children.items=this.$view.find("li").toArray(),$(this.children.items).on("click",{scope:this},item_onClick),this.model&&$(this.children.list).css(this.model.length<2?{display:"none",opacity:0}:{display:"block",opacity:1})}this.apply()},this.apply=function(){this._super(),this.model},this.setSize=function(e,t){var i=this;this._super()}},pulley.view.controls.PaginatorVC=pulley.view.ViewController.extend(new pulley.view.controls.PaginatorVC),pulley.view.controls.PaginatorVC.type,pulley.view.controls.PaginatorVC.prototype.type="pulley.view.controls.PaginatorVC",pulley.view.controls.GuidesVC=function(){var e=pulley.view.controls.GuidesVC;this.init=function(){if(this.initializedByAngular)this._super.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);else{var e=arguments[0],t=arguments[1],i=arguments[2];this._super(e,t)}this.model.numberOfGuidesToShow=getURLVar("guides"),i&&i()},this.ready=function(e){switch(this._super(),this.numberOfGuidesToShow){case"1":$(this.view).find(".one-column").css({display:"block"});break;case"2":$(this.view).find(".two-columns").css({display:"block"});break;case"3":$(this.view).find(".three-columns").css({display:"block"});break;case"4":$(this.view).find(".four-columns").css({display:"block"});break;case"6":$(this.view).find(".six-columns").css({display:"block"});break;case"12":$(this.view).find(".twelve-columns").css({display:"block"})}e&&e()}},pulley.view.controls.GuidesVC=pulley.view.ViewController.extend(new pulley.view.controls.GuidesVC),pulley.view.controls.GuidesVC.type=pulley.view.controls.GuidesVC.prototype.type="pulley.view.controls.GuidesVC",pulley.model.LocalData=function(){this.init=function(e,t){this.modelControllerClassesByType=e,this.catalog={Flights:null,FlightGroups:null},t&&t()},this.addObject=function(t){t||e.e,t.id||e.e;var i=this.getCatalogByObjType(t.objType);i[t.id]=t},this.getCatalogByObjType=function(e){var t=e+"s",i=this.catalog[t];return i||(i=this.catalog[t]=[]),i},this.getObjectFromCatalogByObjTypeAndId=function(e,t){var i=this.getCatalogByObjType(e);if(i){var n=i[t];return n}return null},this.updateObjects=function(e){function t(e){var t=i.getCatalogByObjType(e.objType),n=t[e.id];if(n)return n.setModel(e),{success:!0,message:"Updated existing object.",data:n};var l=i.modelControllerClassesByType[e.objType],o=new l(e);return t[e.id]=o,{success:!0,message:"Added object.",data:o}}var i=this;__config.logging&&log("LocalData.updateObjects()");var n=[],l=[];if(e instanceof Array)for(var o in e){var r=e[o],s=t(r);l[o]=s.data,s.success||n.push(s)}else{var s=t(e);s.success||n.push(s)}return n.length?{success:!1,message:"One or more objects failed to update.",data:n}:{success:!0,message:"Successfully updated all objects.",data:l}},this.removeObjects=function(e){function t(e){var t=i.catalog[e.objType+"s"];if(!t)return{success:!1,message:"There are no cataloged items of this type.",data:e};var n=t[e.id];return n?(t.splice(e.id,1),n.destroy(),{success:!0,message:"Updated existing object.",data:n}):{success:!0,message:"The object did not exist to remove."}}var i=this;__config.logging&&log("LocalData.updateObjects()");var n=[];if(e instanceof Array)for(var l in e){var o=e[l],r=t(o);r.success||n.push(r)}else{var r=t(e);r.success||n.push(r)}return n.length?{success:!1,message:"One or more objects failed to be removed.",data:n}:{success:!0,message:"Successfully removed all objects."}}},pulley.model.LocalData=Class.extend(new pulley.model.LocalData),pulley.model.LocalData.type=pulley.model.LocalData.prototype.type="pulley.model.LocalData",pulley.HTMLInjector=function(){},pulley.HTMLInjector=pulley.Controller.extend(new pulley.HTMLInjector),pulley.HTMLInjector.prototype.type=pulley.HTMLInjector.type="pulley.HTMLInjector",pulley.HTMLInjector.templates=null,pulley.HTMLInjector.toString=function(){return"HTMLInjector"},pulley.HTMLInjector.initializePage=function(e,t,i){function n(){pulley.HTMLInjector._injectIncludes(e,l)}function l(){pulley.HTMLInjector._initializeControllers(e,i)}logMethod(this,"initializePage",arguments),pulley.HTMLInjector._loadHTMLTemplates(t,n)},pulley.HTMLInjector._loadHTMLTemplates=function(e,t){function i(i){pulley.HTMLInjector.templates.push(i),pulley.HTMLInjector.templates.length==e.length&&t()}if(pulley.HTMLInjector.templates||(pulley.HTMLInjector.templates=[]),e.length<1)return void t();for(var n in e){var l=e[n],o=l.substring(l.lastIndexOf("/")+1,l.lastIndexOf(".")),r=$("."+o)[0];r?i(r.outerHTML):$.ajax({url:l,data:{},dataType:"html",success:function(e,t,n){i(e)},error:function(e,t,i){log("Network Error:"),log(e.status.toString()),log(t.toString()),log(i.toString())},notmodified:function(e){},timeout:function(e){},abort:function(e){},parseerror:function(e){},complete:function(e){}})}},pulley.HTMLInjector.getHTMLTemplateByViewControllerClass=function(e){logMethod(this,"getHTMLTemplateByViewControllerClass",arguments);for(var t in pulley.HTMLInjector.templates){var i=pulley.HTMLInjector.templates[t],n=i.indexOf("class=")+6,l=i.charAt(n),o=i.indexOf(l,n+1),r=i.substring(n+1,o);if(r==e.toString())return i}},pulley.HTMLInjector._injectIncludes=function(e,t){function i(){r++,r>=o.length&&t&&t()}function n(e){logMethod(l,"loadInclude",arguments);var t=$(e).attr("data-include-src"),n=$(e).attr("data-include-id"),o=$(e).attr("data-include-class");$.ajax({url:t,data:{},dataType:"html",success:function(t,l,r){var s=t,a=$(s)[0];e.innerHTML=a.innerHTML;for(var u=0;u<a.attributes.length;u++){var c=a.attributes[u].name,d=$(a).attr(c),h=$(e).attr(c);h||$(e).attr(c,d)}var p=e.children[0];n&&(p.id=n),$(p).addClass(o),$(e).attr('data-include-loaded="true"'),pulley.HTMLInjector._injectIncludes(e,i)},error:function(e,t,i){log("Network Error:"),log(e.status.toString()),log(t.toString()),log(i.toString())},notmodified:function(e){},timeout:function(e){},abort:function(e){},parseerror:function(e){},complete:function(e){}})}var l=this;logMethod(this,"_injectIncludes",arguments);var o=$(e).find("*[data-include-src]").toArray(),r=0;if(o.length)for(var s in o){var a=o[s];n(a)}else i()},pulley.HTMLInjector._initializeControllers=function(t,i){function n(t){var i=t.split("."),n=window;for(var l in i){var o=i[l];n=n[o],n||e.e}var r=n;return r}var l=this;logMethod(this,"_initializeControllers",arguments);var o=$(t).find("*[class]").toArray(),r=0;for(var s in o){var a=o[s],u=$(a).attr("data-controller-initialized");if(!u){var c=!1;if(c){var d=a.className.split(/\s+/);for(var s in d)if(isNumber(s)){var h=d[s],p=h+"VC",f=window[p];if(f){var v=new f(a);break}}}else{var p=$(a).attr("data-controller");if(p){var f=n(p);if(f)var v=new f(a)}}}}i()},pulley.HTMLInjector.createControllerAndInjectHTML=function(e,t,i){function n(e,t){var i=pulley.HTMLInjector.getHTMLTemplateByViewControllerClass(e),n="",l=i.substring(0,i.indexOf(" ")),o=i.substr(i.indexOf(" "));return n=l+" id='"+t+"'"+o}i||(i=t.createUniqueId());var l=n(t,i);$(e).append(l);var o=document.getElementById(i),r=new t(o);return r};
//# sourceMappingURL=./pulley.min.map